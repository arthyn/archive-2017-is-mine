function isBlank(a){var b=a.target,c=b.value;isEmpty(c)?b.classList.contains("input-blank")||b.classList.add("input-blank"):b.classList.remove("input-blank")}function isEmpty(a){return!a||0===a.length}!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),"document"in self&&("classList"in document.createElement("_")?!function(){"use strict";var a=document.createElement("_");if(a.classList.add("c1","c2"),!a.classList.contains("c2")){var b=function(a){var b=DOMTokenList.prototype[a];DOMTokenList.prototype[a]=function(a){var c,d=arguments.length;for(c=0;d>c;c++)a=arguments[c],b.call(this,a)}};b("add"),b("remove")}if(a.classList.toggle("c3",!1),a.classList.contains("c3")){var c=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:c.call(this,a)}}a=null}():!function(a){"use strict";if("Element"in a){var b="classList",c="prototype",d=a.Element[c],e=Object,f=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},j=function(a){for(var b=f.call(a.getAttribute("class")||""),c=b?b.split(/\s+/):[],d=0,e=c.length;e>d;d++)this.push(c[d]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",-1!==i(this,a)},k.add=function(){var a,b=arguments,c=0,d=b.length,e=!1;do a=b[c]+"",-1===i(this,a)&&(this.push(a),e=!0);while(++c<d);e&&this._updateClassName()},k.remove=function(){var a,b,c=arguments,d=0,e=c.length,f=!1;do for(a=c[d]+"",b=i(this,a);-1!==b;)this.splice(b,1),f=!0,b=i(this,a);while(++d<e);f&&this._updateClassName()},k.toggle=function(a,b){a+="";var c=this.contains(a),d=c?b!==!0&&"remove":b!==!1&&"add";return d&&this[d](a),b===!0||b===!1?b:!c},k.toString=function(){return this.join(" ")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(n){-2146823252===n.number&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}}(self));var getParents=function(a,b){var c,d=[];for(b&&(c=b.charAt(0));a&&a!==document;a=a.parentNode)b?("."===c&&a.classList.contains(b.substr(1))&&d.push(a),"#"===c&&a.id===b.substr(1)&&d.push(a),"["===c&&a.hasAttribute(b.substr(1,b.length-1))&&d.push(a),a.tagName.toLowerCase()===b&&d.push(a)):d.push(a);return 0===d.length?null:d};document.getScroll=function(){if(void 0!=window.pageYOffset)return[pageXOffset,pageYOffset];var a,b,c=document,d=c.documentElement,e=c.body;return a=d.scrollLeft||e.scrollLeft||0,b=d.scrollTop||e.scrollTop||0,[a,b]};var forEach=function(a,b,c){for(var d=0;d<a.length;d++)b.call(c,d,a[d])},domReady=function(a){"interactive"===document.readyState||"complete"===document.readyState?a():document.addEventListener("DOMContentLoaded",a)},bulo={};bulo.getHeight=function(a){return Math.max(a.scrollHeight,a.offsetHeight,a.clientHeight)},bulo.getElemDistance=function(a){var b=0;if(a.offsetParent)do b+=a.offsetTop,a=a.offsetParent;while(a);return b>=0?b:0},bulo.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b||200),h&&a.apply(e,f)}};var getTop=function(a){var b=a.getBoundingClientRect();return{top:b.top+document.body.scrollTop,left:b.left+document.body.scrollLeft}};bulo.getTextHeight=function(a){var b=document.createElement("span");b.textContent="Hg",b.style.font=a;var c=document.createElement("div");c.style.display="inline-block",c.style.width="1px",c.style.height="0px";var d=document.createElement("div");d.appendChild(b),d.appendChild(c);var e=document.querySelector("body");e.appendChild(d);try{var f,g,h={};c.style.verticalAlign="baseline",f=getTop(c).top,g=getTop(b).top,h.ascent=f-g,c.style.verticalAlign="bottom",f=getTop(c).top,g=getTop(b).top,h.height=f-g,h.descent=h.height-h.ascent}finally{d.remove()}return h},function(a,b){function c(a){var b,c=parseInt(s.substr(0,2));b=c+a>1.2*c?1.2*c:c+a,s=b+"px",u=s+" "+t}function d(b){for(var c=b.toDataURL("image/png"),d=atob(c.substring("data:image/png;base64,".length)),e=new Uint8Array(d.length),f=0,g=d.length;g>f;++f)e[f]=d.charCodeAt(f);var h=new Blob([e.buffer],{type:"image/png"});return(a.webkitURL||a.URL).createObjectURL(h)}function e(){for(var a=b.querySelectorAll("select"),c=0;c<a.length;c++){a[c].addEventListener("focus",x,!1),a[c].addEventListener("keyup",x,!1),a[c].addEventListener("change",x,!1),a[c].addEventListener("blur",x,!1),a[c].addEventListener("mousedown",x,!1);var d=b.createEvent("HTMLEvents");d.initEvent("change",!1,!0),a[c].dispatchEvent(d)}}function f(a){switch(a){case 1:t="viktor-script, serif",u=s+" "+t;break;case 2:t="flood-std, sans-serif",u=s+" "+t;break;case 3:t="verveine, sans-serif",u=s+" "+t}}function g(a){var c=a.options[a.selectedIndex],d=parseInt(c.value,10),e=c.className,g=b.querySelector(".intent-input");isEmpty(e)?(g.className="intent-input",s="60px",t='"Trade Gothic Next W01", sans-serif',u=s+" "+t):(g.className=e+" intent-input",f(d))}function h(a){var b=a.options[a.selectedIndex],c=parseInt(b.value,10);r=v[c]}function i(){for(var b=p.value,c=0;c<o.length;c++)o[c].addTextToImage(b);a.location.hash="image-panel"}function j(a){for(var c,d=b.querySelectorAll(a),e=[],f=0;f<d.length;f++)c=new w(d[f],d[f].getAttribute("data-img"),d[f].getAttribute("data-filename"),parseInt(d[f].getAttribute("data-startHeight"),10),parseInt(d[f].getAttribute("data-textHeight"),10),parseInt(d[f].getAttribute("data-padding"),10),parseInt(d[f].getAttribute("data-maxWidth"),10)),e.push(c);return e}function k(a){for(var b=0;b<a.length;b++){var c=new Image;c.src=a[b].getImage(),c.onload=function(b,c){return function(){var d=a[b].getContext(),e=a[b].getCanvas();d.fillStyle=r,d.fillRect(0,0,e.width,e.height),d.drawImage(c,0,0)}}(b,c)}}function l(a){a.preventDefault(),i()}function m(){var c=b.getElementById("intent-generator");o=j(".generator"),k(o),c.addEventListener("submit",l,!1),e(),a.addEventListener("hashchange",function(c){c.preventDefault();var d=b.querySelector(a.location.hash);d&&Jump(d,{duration:500})},!1)}var n,o,p=(a.innerWidth,a.innerHeight,b.getScroll()[1],b.getElementById("intent")),q="#c0a772",r="#ffffff",s="60px",t='"Trade Gothic Next W01", sans-serif',u=s+" "+t,v=["#ffffff","#000000","#d4145a","#666666","#2a4c2b","#161535","#069385","#c1272d","#660b68","#339e63","#a0742e","#d85013"],w=function(a,b,c,d,e,f,g){this.canvas=a,this.preview=this.canvas.className.indexOf("preview")>-1,this.context=a.getContext("2d"),this.image=b,this.filename=c,this.textHeight=e,this.startHeight=d,this.padding=f,this.maxWidth=g,this.context.fillStyle=q,this.context.font=u,this.context.textAlign="center",this.fragmentText=function(a,b){var c=[],d=a.split(" "),e=this.context,b=this.maxWidth;if(NaN===b)return[a];for(;d.length;){for(var f=d[0],g=d.shift(),h=e.measureText(g).width;d.length&&b>h;)f=d[0],g=g+" "+d.shift(),h=e.measureText(g).width;h=e.measureText(g).width,h>b&&""!==g.substring(0,g.lastIndexOf(" "))&&(g=g.substring(0,g.lastIndexOf(" ")),d.unshift(f)),c.push(g)}return c}};w.prototype.generateIntentText=function(a){var b=this.fragmentText(a);this.scaleTextToFit(b),b=this.fragmentText(a);var c=this.textHeight*b.length,d=parseInt((200-c)/2,10)+this.startHeight;this.context.fillStyle=q,this.context.font=u,this.context.textAlign="center";for(var e=0;e<b.length;e++)this.context.fillText(b[e],this.padding+this.maxWidth/2,(e+1)*(.8*this.textHeight)+d);s="60px",u=s+" "+t},w.prototype.addTextToImage=function(a){var b=this,c=new Image;isEmpty(a)||(c.onload=function(){b.clearContext(),b.context.fillStyle=r,b.context.fillRect(0,0,b.canvas.width,b.canvas.height),b.context.drawImage(c,0,0),b.generateIntentText(a),b.preview||(b.canvas.className="generator with-text"),b.createLink()},c.src=b.image)},w.prototype.createLink=function(){var a,b;b=d(this.canvas),a=this.canvas.parentNode,a.setAttribute("download",this.filename),a.setAttribute("href",b)},w.prototype.getFilename=function(){return this.filename},w.prototype.getCanvas=function(){return this.canvas},w.prototype.getImage=function(){return this.image},w.prototype.getContext=function(){return this.context},w.prototype.clearContext=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.preview||(this.canvas.className="generator")},w.prototype.scaleTextToFit=function(a){var b,d,e=210,f=bulo.getTextHeight(u).height*a.length;e>f&&(b=e-f,d=Math.floor(b/a.length),c(d),this.textHeight=bulo.getTextHeight(u).height)};var x=bulo.debounce(function(a){var b=a.target;b.id.indexOf("font-select")>-1?g(b):h(b)},50,!1);bulo.debounce(function(a){var c=a.target,d=c.value;b.querySelectorAll(".generator.with-text");n.clearContext(),isEmpty(d)||n.generateIntentText(d)},50,!1);domReady(function(){m()})}(window,document);